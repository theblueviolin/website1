<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pokemon Game Macro 3</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f8ff;
        color: #333;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    #directions {
        max-width: 10000px;
        background-color: #ffffffdd;
        padding: 15px;
        border-radius: 10px;
        font-size: 1.1em;
        line-height: 1.4;
        margin-bottom: 20px;
        border: 1px solid #ccc;
    }

    #game-container {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        gap: 40px;
        max-width: 1200px;
        flex-wrap: wrap;
    }

    #left {
        position: relative;
        width: 800px;
        height: 600px;
        border: 2px solid #ccc;
        border-radius: 10px;
        overflow: hidden;
        background: url('images/environment_forestbackground.png') no-repeat center center;
        background-size: cover;
    }

    .grass {
        position: absolute;
        bottom: 0;
        width: 200px;
        cursor: pointer;
        transition: transform 0.2s;
    }

    .grass:hover { transform: scale(1.05); }

    #grass1 { left: 0; }
    #grass2 { left: 275px; }
    #grass3 { right: 0; }

    #right {
        max-width: 400px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    h1 { color: #2c3e50; margin-bottom: 20px; }
    h2, h3 { color: #34495e; margin: 5px 0; }

    #status {
        font-size: 1.2em;
        margin: 10px 0;
        font-weight: bold;
    }

    #supermode {
        color: #e74c3c;
        font-weight: bold;
        font-size: 0.9em;
        margin-bottom: 5px;
        text-align: left;
        min-height: 20px;
    }

    button {
        background-color: #3498db;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 8px 15px;
        margin: 5px 0;
        cursor: pointer;
        transition: background-color 0.2s;
    }

    button:hover { background-color: #2980b9; }

    #amtPokemon {
        margin-top: 10px;
        padding: 10px;
        background-color: #fcf8e3;
        border: 2px solid #f7ecb5;
        border-radius: 10px;
        max-height: 200px;
        overflow-y: auto;
        font-family: "Courier New", monospace;
        line-height: 1.4;
        color: #8e6c00;
        width: 100%;
    }

    #pokemon_caught_div,
    #pokeballs_left_div {
        margin: 5px 0;
    }

    /* ========================= */
    /* üì± MOBILE OPTIMIZATION */
    /* ========================= */
    @media (max-width: 768px) {

        body {
            padding: 10px;
        }

        h1 {
            font-size: 2em;
        }

        #directions {
            font-size: 1.25em;
            line-height: 1.5;
        }

        #game-container {
            gap: 20px;
        }

        #left {
            width: 100%;
            height: auto;
            aspect-ratio: 4 / 3;
        }

        .grass {
            width: 30%;
        }

        #grass1 { left: 0; }
        #grass2 { left: 35%; }
        #grass3 { right: 0; }

        #right {
            max-width: 100%;
            align-items: center;
            text-align: center;
        }

        #status {
            font-size: 1.5em;
        }

        #pokemon_caught_div,
        #pokeballs_left_div {
            font-size: 1.3em;
        }

        #supermode {
            font-size: 1.2em;
            text-align: center;
        }

        button {
            font-size: 1.2em;
            padding: 12px 20px;
            width: 100%;
        }

        #amtPokemon {
            font-size: 1.1em;
            max-height: 250px;
        }
    }

    .home-button {
        position: fixed;
        top: 20px;
        left: 20px;
        font-family: 'Inter', sans-serif;
        font-size: 15px;
        padding: 8px 14px;
        border-radius: 999px; /* pill shape */
        background: rgba(0, 0, 0, 0.05);
        color: #333;
        text-decoration: none;
        border: 1px solid rgba(0, 0, 0, 0.08);
        backdrop-filter: blur(6px);
        transition: background 0.2s ease, transform 0.15s ease, opacity 0.2s ease;
        opacity: 0.75;
        z-index: 1000;
        }

        .home-button:hover {
        background: rgba(0, 0, 0, 0.1);
        opacity: 1;
        transform: translateY(-1px);
        }

        /* Mobile refinement */
        @media (max-width: 600px) {
        .home-button {
            font-size: 14px;
            padding: 6px 12px;
            top: 14px;
            left: 14px;
        }
    }


</style>
</head>

<body>
<a href="../index.html" class="home-button" aria-label="Home">‚Üê Home</a>

<h1>Gotta Catch 'em All!</h1>

<div id="directions">
Your goal in this game is to earn as many Pok√©balls as possible while catching Pok√©mon.
Click one of the three grass clumps in the forest. Behind one is a Pok√©mon, another has two free Pok√©balls, and the last has nothing.
Sometimes you may encounter a "super" Pok√©mon. Use the buttons after each round to display results or restart the game.
</div>

<div id="game-container">
    <div id="left">
        <img class="grass" id="grass1" src="images/grass.png">
        <img class="grass" id="grass2" src="images/grass.png">
        <img class="grass" id="grass3" src="images/grass.png">
    </div>

    <div id="right">
        <h2 id="supermode"></h2>
        <h3 id="status">Click a grass</h3>
        <div id="pokemon_caught_div">Caught: 0</div>
        <div id="pokeballs_left_div">Pok√©balls: 5</div>
        <div id="amtPokemon"></div>

        <button id="play_again_button" style="display: none;">Play Again!</button>
        <button id="start_over_button" style="display: none;">Click to Start Over!</button>
        <button id="stats_button" style="display: none;">Click to Display Stats!</button>
    </div>
</div>

<script>
const grass1 = document.getElementById('grass1');
const grass2 = document.getElementById('grass2');
const grass3 = document.getElementById('grass3');
const pokemon_caught_div = document.getElementById('pokemon_caught_div');
const pokeballs_left_div = document.getElementById('pokeballs_left_div');
const play_again_button = document.getElementById('play_again_button');
const start_over_button = document.getElementById('start_over_button');
const stats_button = document.getElementById('stats_button');
const status = document.getElementById('status');
const in_super_mode = document.getElementById('supermode');
const amtPokemon = document.getElementById('amtPokemon');

const pokemon_img = ['images/pikachu.png','images/bulbasaur.png','images/charmander.png','images/eevee.png','images/squirtle.png'];
const pokemon_name = ['Pikachu','Bulbasaur','Charmander','Eevee','Squirtle'];
const super_pokemon_img = ['images/lugia.png','images/ho-oh.png','images/charizard.png','images/blastoise.png','images/venasaur.png'];
const super_pokemon_name = ['Lugia','Ho-oh','Charizard','Blastoise','Venasaur'];

let pokeballsRemaining = 5;
let pokemonCaught = 0;
let collectedItems = [];
let gameState = 0;
let superMode = Math.random() < 0.2;
let gameOver = false;

function pickGrass(grassElement) {
    if (gameState !== 0 && !superMode && !gameOver) return;

    if (superMode) {
        let idx = Math.floor(Math.random() * super_pokemon_img.length);
        grassElement.src = super_pokemon_img[idx];
        let name = super_pokemon_name[idx];
        in_super_mode.innerHTML = `‚ú® Super Pok√©mon! You got a ${name}! ‚ú®`;
        collectedItems.push(name + " (Super) found");
        pokemonCaught++;
        pokeballsRemaining--;
        superMode = false;
    } else {
        pokeballsRemaining--;
        let chance = Math.floor(Math.random() * 3);
        if (chance === 0) {
            grassElement.src = 'images/pokeballs.png';
            pokeballsRemaining += 2;
            status.innerHTML = "üéâ You found 2 Pok√©balls!";
            collectedItems.push("Pok√©balls found");
        } else if (chance === 1) {
            grassElement.src = '';
            status.innerHTML = "Nothing here...";
            collectedItems.push("Nothing found");
        } else {
            let idx = Math.floor(Math.random() * pokemon_img.length);
            grassElement.src = pokemon_img[idx];
            let name = pokemon_name[idx];
            status.innerHTML = `You caught a ${name}!`;
            collectedItems.push(name + " found");
            pokemonCaught++;
        }
    }

    pokemon_caught_div.innerHTML = `Pok√©mon Caught: ${pokemonCaught}`;
    pokeballs_left_div.innerHTML = `Pok√©balls: ${pokeballsRemaining}`;
    stats_button.style.display = 'block';
    start_over_button.style.display = 'block';

    if (pokeballsRemaining > 0) {
        play_again_button.style.display = 'block';
    } else {
        play_again_button.style.display = 'none';
        status.innerHTML = "üíÄ Game Over!";
        gameOver = true;
    }

    gameState = 1;
}

function resetGame() {
    grass1.src = 'images/grass.png';
    grass2.src = 'images/grass.png';
    grass3.src = 'images/grass.png';
    pokeballsRemaining = 5;
    pokemonCaught = 0;
    collectedItems = [];
    pokemon_caught_div.innerHTML = "Pok√©mon Caught: 0";
    pokeballs_left_div.innerHTML = "Pok√©balls: 5";
    in_super_mode.innerHTML = "";
    amtPokemon.innerHTML = "";
    superMode = Math.random() < 0.2;
    gameOver = false;
    gameState = 0;
    status.innerHTML = "Click a grass";
    play_again_button.style.display = 'none';
    start_over_button.style.display = 'none';
    stats_button.style.display = 'none';
}

grass1.onclick = () => pickGrass(grass1);
grass2.onclick = () => pickGrass(grass2);
grass3.onclick = () => pickGrass(grass3);

play_again_button.onclick = () => {
    grass1.src = 'images/grass.png';
    grass2.src = 'images/grass.png';
    grass3.src = 'images/grass.png';
    amtPokemon.innerHTML = "";
    in_super_mode.innerHTML = "";
    gameState = 0;
    superMode = Math.random() < 0.2;
    gameOver = false;
    status.innerHTML = "Click a grass";
};

start_over_button.onclick = () => resetGame();

stats_button.onclick = () => {
    if (collectedItems.length === 0) {
        amtPokemon.innerHTML = "<em>No results yet.</em>";
        return;
    }
    let html = "<strong>Game Results:</strong><ol>";
    collectedItems.slice().reverse().forEach(item => { html += `<li>${item}</li>`; });
    html += "</ol>";
    amtPokemon.innerHTML = html;
};
</script>

</body>
</html>
